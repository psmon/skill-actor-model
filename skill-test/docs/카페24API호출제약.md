API 제한 정책
카페24는 안정적인 응답 속도와 플랫폼 전체의 가용성을 보장하기 위해, 요청 수 제한 정책과 사용량 제한 정책을 병행 적용합니다.
API 요청 수 제한 정책
카페24는 API 요청을 Bucket에 쌓아두었다가, Bucket이 가득 차면 요청을 제한하는 방식인
"Leaky Bucket" 알고리즘을 사용하고 있습니다.
Bucket 제한은 쇼핑몰 아이디를 기준으로 1개의 쇼핑몰/ 1개의 API/ 최대 40회입니다.
Note!
일부 API는 제한이 40회 이상인 경우도 있으므로, 세부 사항은 각 API의 사양을 확인하시기 바랍니다.
Front Javascript SDK는 API 요청 수 제한 정책과 관계 없이 사용할 수 있습니다.

Bucket은 1초에 2회씩 감소하며, 감소한만큼 다시 API 호출을 할 수 있습니다. 만약 API를 1초에 2회씩 호출한다면 제한 없이 사용할 수 있습니다.
때문에 단시간에 요청이 집중되는 비정상적인 패턴(쇼핑몰 ID를 기준으로 동일 IP에서 초당 10회 이상 호출)을 제외한 일상적인 사용에는 거의 제약이 없습니다.
Note!
만약 쇼핑몰 아이디를 기준으로 1개의 쇼핑몰에서/ 같은 API를/ 동시에 40회 이상 요청한다면 429 에러(Too Many Request)가 반환됩니다.

쇼핑몰의 API 호출수 및 Bucket 여유량을 체크하려면 Header에 X-Api-Call-Limit 부분을 확인하시면 됩니다.

X-Api-Call-Limit : 8/40
//해당 값은 1초에 2회씩 감소합니다. (현재 상태에서 3초가 지나면 2/40으로 변경됨)
API 사용량 제한 정책
카페24 API는 단순 호출 횟수 제한 외에도 사용량 기반 제한 정책을 적용합니다.
API 응답에는 Usage와 Remain 관련 Header가 함께 포함되며, 이를 통해 현재 사용량과 재호출 가능 시간을 확인할 수 있습니다.
Header	설명
X-Cafe24-Call-Usage	호출 횟수 한도 대비 사용률(%)
X-Cafe24-Call-Remain	호출 재개 가능까지 남은 시간(초)
X-Cafe24-Time-Usage	처리 시간 한도 대비 사용률(%)
X-Cafe24-Time-Remain	처리 시간 재개 가능까지 남은 시간(초)
Note!
Remain 항목은 Usage 값이 100% 이상, 즉 자원이 모두 소진된 상태에서만 응답에 포함됩니다.

정상 사용 구간에서는 Remain 값이 내려오지 않으며, 이는 아직 제한에 도달하지 않았음을 의미합니다.

제한을 초과하면 해당 클라이언트의 API 호출은 일시적으로 차단됩니다.

차단된 상태에서 계속 호출을 시도할 경우 Usage 값이 100%를 초과하여 재호출 가능까지 남은 시간이 더 길어질 수 있습니다.

사용 예시
X-Cafe24-Call-Usage : 120.04
X-Cafe24-Call-Remain : 32
X-Cafe24-Time-Usage : 100.5
X-Cafe24-Time-Remain : 7
위 상태는 호출 횟수 사용률이 120.04%, 처리 시간 사용률이 100.5%로 이미 제한을 초과한 상황입니다.
따라서 호출이 차단되며, X-Cafe24-Call-Remain 과 X-Cafe24-Time-Remain 값을 통해 재호출 가능까지 남은 시간을 확인할 수 있습니다.
서비스 영향 최소화를 위해 Header 값을 반드시 확인하고, 재호출 가능 시간이 경과한 후 호출 로직을 재개하도록 구현해야 합니다.